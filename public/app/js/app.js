(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"/NWs":function(t,e,a){"use strict";var s=a("jXqh");a.n(s).a},0:function(t,e,a){a("bUC5"),t.exports=a("pyCd")},"0eP4":function(t,e,a){var s={"./de":"tGlX","./de.js":"tGlX"};function n(t){var e=i(t);return a(e)}function i(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id="0eP4"},1:function(t,e){},"23aE":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".border[data-v-ff6e4a36] {\n  cursor: pointer;\n}\n.border.disabled[data-v-ff6e4a36] {\n  cursor: default;\n}\n.disabled[data-v-ff6e4a36] {\n  color: #cccccc;\n}\n.disabled.bg-orange[data-v-ff6e4a36] {\n  color: #212529 !important;\n}\n.divider[data-v-ff6e4a36] {\n  border-top: 2px solid #343a40;\n}\ntd[data-v-ff6e4a36] {\n  vertical-align: top;\n}\ntd.wide[data-v-ff6e4a36] {\n  width: 40%;\n}",""])},"59Rt":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".date-picker {\n  width: 120px;\n}\n.patient-overview .btn-group {\n  flex: 1;\n}\n.patient-overview .nav {\n  margin-top: -1px;\n}\n.patient-overview .nav .btn {\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n}\n.patient-overview .delta .btn {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n}",""])},"9Wh1":function(t,e,a){window.Locale="de",window._=a("LvDl"),window.axios=a("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var s=document.head.querySelector('meta[name="csrf-token"]');s?window.axios.defaults.headers.common["X-CSRF-TOKEN"]=s.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token")},CfYP:function(t,e,a){"use strict";var s=a("WQRu");a.n(s).a},E59B:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".medications .date[data-v-3f3ac014] {\n  width: 70px;\n}\n.medications .diff[data-v-3f3ac014] {\n  width: 50px;\n}\n.type[data-v-3f3ac014] {\n  min-width: 1rem;\n}",""])},HCYJ:function(t,e,a){var s=a("QtXD");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},KKod:function(t,e,a){var s=a("rdh0");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},PD9G:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\ninput[data-v-780f19d4] {\n    width: 100% !important;\n}\n",""])},QtXD:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".call-monitor .btn-toolbar button {\n  min-height: 60px;\n}\n.call-monitor .btn-toolbar .call-info {\n  font-size: 0.78rem;\n  flex-basis: 100%;\n}\n.call-monitor .btn-toolbar .btn-group {\n  /*\n  > .btn:nth-child(2) {\n      border-top-left-radius: 0.25rem;\n      border-bottom-left-radius: 0.25rem;\n  }\n  > .btn {\n      flex-grow: 0;\n  }\n   */\n}\n.call-monitor .btn-toolbar .outbound .bg-primary {\n  background-color: #d2b4de !important;\n}\n.call-monitor .btn-toolbar .outbound .bg-success {\n  background-color: #5b2c6f !important;\n}\n.call-monitor .btn-toolbar .outbound .bg-secondary {\n  background-color: #d2b4de !important;\n}\n.call-monitor .btn-toolbar .info {\n  position: absolute;\n  right: 20px;\n  cursor: pointer;\n}\n.stats-popover {\n  font-size: 14px !important;\n}",""])},S5ZM:function(t,e,a){"use strict";var s=a("tF0C");a.n(s).a},TO0y:function(t,e,a){"use strict";var s=a("bco7");a.n(s).a},WQRu:function(t,e,a){var s=a("23aE");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},Zae6:function(t,e,a){"use strict";var s=a("KKod");a.n(s).a},bUC5:function(t,e,a){"use strict";a.r(e);a("gIG4");var s=a("XuX8"),n=a.n(s),i=a("jE9Z"),r=a("vZxv"),o=a.n(r),l=a("qSUR"),d=a("X1uE"),u=a("KN3F"),c=a("QB5G"),m={name:"Home",data:function(){return{reports:{finance:[],customer:[],process:[],info:""},items:[[],[],[],[],[],[]],fields:[{key:"description",label:this.$t("Description")},{key:"target",label:this.$t("Target")},{key:"sum_q",label:this.$t("Quarter")},{key:"sum_10",label:this.$t("{num} Days",{num:"1"})},{key:"deviation",label:this.$t("Deviation")}]}},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;axios.get("/welcome").then((function(e){return t.reports=e.data}))}}},v=a("KHd+"),f=Object(v.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container home-panel"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h5",[t._v(t._s(t.$t("Welcome"))+" "+t._s(t.$userName)+" ")])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",small:"",items:t.reports.finance,fields:t.fields}})],1),t._v(" "),a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",small:"",items:t.reports.customer,fields:t.fields}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",small:"",items:t.reports.process,fields:t.fields}})],1),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col"},[e("div",{staticClass:"border p-3"},[e("p",[this._v("Geplantes Event")]),e("br"),e("br"),e("br"),e("br"),e("br"),e("br")])])}],!1,null,"228bf414",null).exports,h=a("wd/R"),p=a.n(h),b={name:"TimeLogEditRecord",props:{entry:Object,index:Number},methods:{validTime:function(){}},watch:{entry:function(){console.log("entry changed",this.entry)}}},g=(a("/NWs"),Object(v.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-inline flex-nowrap mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.from[t.index],expression:"entry.from[index]"}],staticClass:"form-control",attrs:{type:"text",id:"inputRegFrom",placeholder:"00:00"},domProps:{value:t.entry.from[t.index]},on:{input:function(e){e.target.composing||t.$set(t.entry.from,t.index,e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.entry.to[t.index],expression:"entry.to[index]"}],staticClass:"form-control ml-2",attrs:{type:"text",id:"inputRegTo",placeholder:"00:00"},domProps:{value:t.entry.to[t.index]},on:{input:function(e){e.target.composing||t.$set(t.entry.to,t.index,e.target.value)}}})])}),[],!1,null,"780f19d4",null).exports);function y(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}p.a.locale("de");var x={name:"TimeLog",components:{TimeLogEditRecord:g},data:function(){return{homeEditRows:1,breakEditRows:1,fields:[{key:"booking_date",formatter:"formatDate",label:this.$t("Booking Date")},{key:"regular",label:this.$t("Regular Time")},{key:"regular_diff",label:this.$t("Sum")},{key:"home",label:this.$t("Home Visit")},{key:"home_diff",label:this.$t("Sum")},{key:"break",label:this.$t("Break")},{key:"break_diff",label:this.$t("Sum")},{key:"extra",label:this.$t("Extra Hours"),class:"text-right"},{key:"scheduled",label:this.$t("Scheduled Hours"),class:"text-right"},{key:"workplan",label:this.$t("Workplan Hours"),class:"text-right"},{key:"diff",label:this.$t("Diff"),class:"text-right"},{key:"comments",label:this.$t("Comment")},{key:"action",label:""}],records:[],users:[],selectedUser:this.$userId,editItem:null,workplan:null}},computed:{currentDate:function(){return p()().format("YYYY-MM-DD")}},mounted:function(){this.loadRecords(),this.loadUsers()},methods:{loadRecords:function(){var t=this;axios.get("/timelog/list",{params:{id:this.selectedUser}}).then((function(e){return t.records=e.data}))},loadWorkplanDetail:function(t){var e=this;axios.get("/timelog/workplan-detail",{params:{date:t,user_id:this.selectedUser}}).then((function(t){return e.workplan=t.data}))},loadUsers:function(){var t=this;axios.get("/zvs/users").then((function(e){return t.users=e.data}))},formatDate:function(t){return"Σ"===t||"monthly_sum"===t?"Σ":p()(String(t)).format("DD. dddd")},rowClass:function(t,e){if(t){var a="";return t.week_divider&&(a="week-divider"),t.month_divider&&(a+=" month-divider"),"Σ"===t.booking_date&&(a=" table-secondary"),a}},numEditItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.max(t.from.length,t.to.length,e)},onEdit:function(t){console.log("Edit item",t),this.loadWorkplanDetail(t.booking_date),this.editItem=JSON.parse(JSON.stringify(t)),this.editItem.regular.from.sort(),this.editItem.regular.to.sort(),this.editItem.regular.from.length>1&&(this.editItem.regular.from=this.editItem.regular.from.slice(0,1)),this.editItem.regular.to.length>1&&(this.editItem.regular.to=this.editItem.regular.to.slice(-1)),this.homeEditRows=this.numEditItems(t.home),this.breakEditRows=this.numEditItems(t.break)},onSave:function(){var t=this;axios.post("/timelog/update?user_id="+this.selectedUser,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),s.forEach((function(e){y(t,e,a[e])}))}return t}({},this.editItem)).then((function(e){t.loadRecords()}))}},watch:{selectedUser:function(){this.loadRecords()}}},C=(a("Zae6"),Object(v.a)(x,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6 offset-md-6"},[a("form",{staticClass:"form-inline flex-row-reverse"},[a("b-form-select",{attrs:{id:"selectUserControl",options:t.users,"value-field":"user_id","text-field":"fullname",disabled:"administrator"!==t.$userRole},model:{value:t.selectedUser,callback:function(e){t.selectedUser=e},expression:"selectedUser"}}),t._v(" "),a("label",{staticClass:"mr-2 d-none d-sm-block",attrs:{for:"selectUserControl"}},[t._v(t._s(t.$t("Selected User:")))])],1)])]),t._v(" "),a("b-table",{attrs:{hover:"",responsive:"",items:t.records,fields:t.fields,"tbody-tr-class":t.rowClass},scopedSlots:t._u([{key:"[booking_date]",fn:function(e){return[t._v("\n            "+t._s(e.value)+"\n        ")]}},{key:"cell(regular)",fn:function(e){return[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"d-inline-block mr-2"},t._l(e.value.from,(function(e){return a("div",[t._v(t._s(e))])})),0),t._v(" "),a("div",{staticClass:"d-inline-block"},t._l(e.value.to,(function(e){return a("div",[t._v(t._s(e))])})),0)])]}},{key:"cell(home)",fn:function(e){return[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"d-inline-block mr-2"},t._l(e.value.from,(function(e){return a("div",[t._v(t._s(e))])})),0),t._v(" "),a("div",{staticClass:"d-inline-block"},t._l(e.value.to,(function(e){return a("div",[t._v(t._s(e))])})),0)])]}},{key:"cell(break)",fn:function(e){return[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"d-inline-block mr-2"},t._l(e.value.from,(function(e){return a("div",[t._v(t._s(e))])})),0),t._v(" "),a("div",{staticClass:"d-inline-block"},t._l(e.value.to,(function(e){return a("div",[t._v(t._s(e))])})),0)])]}},{key:"[sum]",fn:function(e){return[t.currentDate==e.item.booking_date?a("strong",[t._v(t._s(e.value))]):a("span",[t._v(t._s(e.value))])]}},{key:"cell(action)",fn:function(e){return[e.index<200&&"Σ"!==e.item.booking_date?a("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-timelog-record-edit",modifiers:{"modal-timelog-record-edit":!0}}],attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.onEdit(e.item)}}},[a("font-awesome-icon",{attrs:{icon:"edit"}})],1):t._e()]}}])}),t._v(" "),t.editItem?a("b-modal",{ref:"editModal",attrs:{size:"md",id:"modal-timelog-record-edit",editItem:t.editItem,"ok-title":t.$t("Save"),"cancel-title":t.$t("Cancel")},on:{ok:function(e){return t.onSave()}},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n            Edit time log records for "+t._s(t._f("formatDate")(t.editItem.booking_date))+"\n        ")]},proxy:!0}],null,!1,2361551285)},[t._v(" "),a("form",{staticClass:"form-inline",attrs:{action:""}},[a("div",{staticClass:"d-flex flex-row mb-3"},[a("div",{staticClass:"p-2 flex-even"},[a("h5",[t._v(t._s(t.$t("Regular Time")))]),t._v(" "),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("From"))+":")]),t._v(" "),a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("To"))+":")])]),t._v(" "),a("time-log-edit-record",{attrs:{entry:t.editItem.regular,index:0}})],1),t._v(" "),a("div",{staticClass:"p-2 flex-even border-left"},[a("h5",[t._v(t._s(t.$t("Home Visit")))]),t._v(" "),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("From"))+":")]),t._v(" "),a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("To"))+":")])]),t._v(" "),t._l(t.numEditItems(t.editItem.home,t.homeEditRows),(function(e,s){return a("time-log-edit-record",{key:e,attrs:{entry:t.editItem.home,index:s}})})),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.homeEditRows++}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])])],2),t._v(" "),a("div",{staticClass:"p-2 flex-even border-left"},[a("h5",[t._v(t._s(t.$t("Break")))]),t._v(" "),a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("From"))+":")]),t._v(" "),a("div",{staticClass:"flex-even"},[t._v(t._s(t.$t("To"))+":")])]),t._v(" "),t._l(t.numEditItems(t.editItem.break,t.breakEditRows),(function(e,s){return a("time-log-edit-record",{key:e,attrs:{entry:t.editItem.break,index:s}})})),t._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-sm-10"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){t.breakEditRows++}}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)])])],2)])]),t._v(" "),a("hr"),t._v(" "),a("h5",[t._v(t._s(t.$t("Workplans")))]),t._v(" "),t.workplan?a("div",[a("div",{staticClass:"d-flex flex-row mb-3 font-weight-bold"},[a("div",{staticClass:"p-2 flex-even"},[t.workplan.regular?a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-even"},[t._v(t._s(t.workplan.regular.time_start.substring(0,5)))]),t._v(" "),a("div",{staticClass:"flex-even"},[t._v(t._s(t.workplan.regular.time_end.substring(0,5)))])]):t._e()]),t._v(" "),a("div",{staticClass:"p-2 flex-even"}),t._v(" "),a("div",{staticClass:"p-2 flex-even"},[t.workplan.break?a("div",{staticClass:"d-flex"},[a("div",{staticClass:"flex-even"},[t._v(t._s(t.workplan.break.time_start.substring(0,5)))]),t._v(" "),a("div",{staticClass:"flex-even"},[t._v(t._s(t.workplan.break.time_end.substring(0,5)))])]):t._e()])]),t._v(" "),a("hr"),t._v(" "),a("div",[t._v("\n                Notice:\n            ")])]):t._e()]):t._e()],1)}),[],!1,null,"3257f5b8",null).exports),k={name:"TimeLogOverview",data:function(){return{isBusy:!0,items:[]}},methods:{loadData:function(){var t=this;axios.get("/timelog/overview").then((function(e){t.items=e.data,t.isBusy=!1}))}},created:function(){this.loadData()}},w=Object(v.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("h5",[t._v(t._s(t.$t("Time Tracking Overview")))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{items:t.items,busy:t.isBusy,responsive:"",small:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[t._v("\n                    "+t._s(e.value)+"\n                ")]}},{key:"cell()",fn:function(e){return[a("div",[t._v("Ist:       "+t._s(e.value.sum))]),t._v(" "),a("div",[t._v("Soll:      "+t._s(e.value.workplan))]),t._v(" "),a("div",[t._v("Diff:      "+t._s(e.value.diff))]),t._v(" "),a("div",[t._v("Holiday:   "+t._s(e.value.holiday))])]}}])})],1)])])}),[],!1,null,"3617bf4a",null).exports,D={name:"UserList",data:function(){return{users:[],saveUserForm:this.initFormData(),roles:["administrator","employee"],errorMessage:"",errors:[]}},mounted:function(){this.loadUsers()},methods:{initFormData:function(){return new c.Form({name:"",email:"",role:"employee",password:""})},clearForm:function(){this.saveUserForm=this.initFormData(),this.errorMessage="",this.errors=[]},loadUsers:function(){var t=this;axios.get("/users").then((function(e){return t.users=e.data}))},onSaveUser:function(t){var e=this;t.preventDefault(),this.saveUserForm.id?axios.put("/users/"+this.saveUserForm.id,this.saveUserForm).then((function(t){e.$bvModal.hide("modal-user-edit"),e.loadUsers()})).catch((function(t){e.errors=error.response.data.errors,e.errorMessage=error.response.data.message})):axios.post("/users",this.saveUserForm).then((function(t){e.$bvModal.hide("modal-user-edit"),e.loadUsers()})).catch((function(t){e.errors=t.response.data.errors,e.errorMessage=t.response.data.message}))},onAddUser:function(){this.saveUserForm=this.initFormData(),this.$bvModal.show("modal-user-edit")},onEditUser:function(t){this.saveUserForm=new c.Form(t),this.$bvModal.show("modal-user-edit")},onDeleteUser:function(t){var e=this;this.$bvModal.msgBoxConfirm("Are you sure?").then((function(a){console.log(a),axios.delete("/users/"+t).then((function(t){console.log("Reload users list"),axios.get("/users").then((function(t){return e.users=t.data}))}))})).catch((function(t){}))}}},T=Object(v.a)(D,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3"},[a("h1",{staticClass:"h2"},[t._v(t._s(t.$t("Users")))]),t._v(" "),a("div",{staticClass:"btn-toolbar mb-2 mb-md-0"},[a("div",{staticClass:"btn-group mr-2"},[a("b-button",{attrs:{variant:"primary"},on:{click:t.onAddUser}},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("Add User")))],1)],1)])]),t._v(" "),a("table",{staticClass:"table"},[a("tr",[a("th",[t._v(t._s(t.$t("Name")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Email")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Role")))]),t._v(" "),a("th")]),t._v(" "),t._l(t.users,(function(e){return a("tr",[a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.firstname)+" "+t._s(e.lastname))]),t._v(" "),a("td",[t._v(t._s(e.email))]),t._v(" "),a("td",[t._v(t._s(e.role))]),t._v(" "),a("td",{staticClass:"text-right"},[a("a",{staticClass:"mr-2",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.onEditUser(e)}}},[a("font-awesome-icon",{attrs:{icon:"pencil-alt",size:"lg"}})],1),t._v(" "),a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.onDeleteUser(e.id)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt",size:"lg"}})],1)])])}))],2),t._v(" "),a("b-modal",{attrs:{id:"modal-user-edit",title:t.$t("Edit User")},on:{ok:t.onSaveUser,cancel:t.clearForm,hide:t.clearForm}},[a("form",{ref:"EditUser",attrs:{onautocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.onSaveUser(e)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputName"}},[t._v(t._s(t.$t("First Name")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.firstname,expression:"saveUserForm.firstname"}],staticClass:"form-control",attrs:{type:"text",id:"userInputName",placeholder:t.$t("First Name"),autocomplete:"off",required:""},domProps:{value:t.saveUserForm.firstname},on:{input:function(e){e.target.composing||t.$set(t.saveUserForm,"firstname",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputName"}},[t._v(t._s(t.$t("Last Name")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.lastname,expression:"saveUserForm.lastname"}],staticClass:"form-control",attrs:{type:"text",id:"userInputLastname",placeholder:t.$t("Last Name"),autocomplete:"off",required:""},domProps:{value:t.saveUserForm.lastname},on:{input:function(e){e.target.composing||t.$set(t.saveUserForm,"lastname",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputEmail"}},[t._v(t._s(t.$t("Email")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.email,expression:"saveUserForm.email"}],staticClass:"form-control",attrs:{type:"email",id:"userInputEmail",placeholder:t.$t("Email"),autocomplete:"pleaseno",required:""},domProps:{value:t.saveUserForm.email},on:{input:function(e){e.target.composing||t.$set(t.saveUserForm,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputRole"}},[t._v(t._s(t.$t("Role")))]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.role,expression:"saveUserForm.role"}],staticClass:"form-control",attrs:{id:"userInputRole",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.saveUserForm,"role",e.target.multiple?a:a[0])}}},t._l(t.roles,(function(e){return a("option",[t._v(t._s(e))])})),0)]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputPassword"}},[t._v(t._s(t.$t("Password")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.password,expression:"saveUserForm.password"}],staticClass:"form-control",attrs:{type:"password",id:"userInputPassword",placeholder:t.$t("Password"),autocomplete:"nothanx"},domProps:{value:t.saveUserForm.password},on:{input:function(e){e.target.composing||t.$set(t.saveUserForm,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"userInputPin"}},[t._v(t._s(t.$t("PIN")))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.saveUserForm.pin,expression:"saveUserForm.pin"}],staticClass:"form-control",attrs:{type:"number",minlength:"4",id:"userInputPin",placeholder:"****",autocomplete:"nothanx"},domProps:{value:t.saveUserForm.pin},on:{input:function(e){e.target.composing||t.$set(t.saveUserForm,"pin",e.target.value)}}})])]),t._v(" "),t.errorMessage?a("div",{staticClass:"alert alert-danger"},[t._v("\n            "+t._s(t.errorMessage)+"\n            "),t.errors?a("ul",t._l(t.errors,(function(e){return a("li",[t._v(t._s(e[0]))])})),0):t._e()]):t._e()])],1)}),[],!1,null,null,null).exports,$={name:"Workplan",data:function(){return{users:[]}},mounted:function(){},methods:{}},M=Object(v.a)($,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",[this._v(this._s(this.$t("Workplans")))])])])])}),[],!1,null,null,null).exports,P={name:"Reports",data:function(){return{patients:[],searchPatientForm:new c.Form({q:""})}},mounted:function(){},methods:{onKeyUp:function(t){},onSearchPatient:function(){var t=this;this.$forms.post("patients",this.searchPatientForm).then((function(e){return t.patients=e})).catch((function(t){return console.log(t,"err")}))}}},q=Object(v.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-xl-10"},[a("div",{staticClass:"card card-default"},[a("div",{staticClass:"card-header"},[t._v("Patient Reports")]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{ref:"Search",on:{keyup:t.onKeyUp,submit:function(e){return e.preventDefault(),t.onSearchPatient(e)}}},[a("div",{staticClass:"form-row align-items-center"},[a("div",{staticClass:"col-auto"},[a("div",{staticClass:"input-group mb-2"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchPatientForm.q,expression:"searchPatientForm.q"}],staticClass:"form-control",attrs:{type:"text",id:"inlineFormInputGroup",placeholder:"Find patient"},domProps:{value:t.searchPatientForm.q},on:{input:function(e){e.target.composing||t.$set(t.searchPatientForm,"q",e.target.value)}}})])]),t._v(" "),t._m(1)])]),t._v(" "),t.patients.length?a("table",{staticClass:"table"},[t._m(2),t._v(" "),t._l(t.patients,(function(e){return a("tr",[a("td",{staticClass:"font-weight-bold"},[t._v(t._s(e.last_name)+", "+t._s(e.first_name))]),t._v(" "),a("td",[t._v(t._s(t._f("formatBirthdate")(e.birth_date)))]),t._v(" "),a("td",[t._v(t._s(e.city))]),t._v(" "),a("td",[t._v(t._s(e.last_visit))]),t._v(" "),a("td",{staticClass:"text-right"},[a("a",{attrs:{href:"/patient/"+e.id}},[a("font-awesome-icon",{attrs:{icon:"user",size:"2x"}})],1),t._v(" "),a("a",{attrs:{href:"/patients/"+e.id+"/report/dm",target:"_blank"}},[a("font-awesome-icon",{attrs:{icon:"file-medical",size:"2x"}})],1),t._v(" "),a("a",{attrs:{href:"/patients/"+e.id+"/report/html",target:"_blank"}},[a("font-awesome-icon",{attrs:{icon:"file-alt",size:"2x"}})],1),t._v(" "),a("a",{attrs:{href:"/patients/"+e.id+"/report/pdf",target:"_blank"}},[a("font-awesome-icon",{attrs:{icon:"file-pdf",size:"2x"}})],1)])])}))],2):t._e()])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("div",{staticClass:"input-group-text"},[this._v("⌕")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-auto"},[e("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[this._v("Submit")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Birth Date")]),t._v(" "),a("th",[t._v("City")]),t._v(" "),a("th",[t._v("Last Visit")]),t._v(" "),a("th")])}],!1,null,"43e31de8",null).exports,Y=a("8MqK"),S=a.n(Y),I=(a("bzzX"),{name:"FrequentMedications",props:{medications:{type:Array,required:!0}},methods:{medicationClass:function(t){if(t.days){if(t.days<-30)return"bg-danger text-white";if(t.days<30)return"bg-success text-white"}if(!t.type||t.type.length>1)return"bg-danger text-white"},daysClass:function(t){if(t&&t<-30)return"bg-danger text-white"},medicationDates:function(t){var e=t.dates.split(",",5),a=[],s=p()();return _.each(e,(function(t){var e=p()(t);a.push({date:t,diff:s.diff(e,"days")}),s=p()(e)})),a},showMedicationRow:function(t){if(t.name.indexOf("[abgesetzt am")>-1){var e=t.name.match(/\[abgesetzt am ([\d\.]*)\]/);if(e&&(e=p()(e,"DD.MM.YYYY"))<p()())return!1}return!0},medicationPrescriptionData:function(t){var e=this.medicationDates(t);console.log("dates",e),console.log("name",t.name);var a,s=null;if(!e.length)return"";a=Math.round(e.filter((function(t){return""!==t.diff})).slice(1,5).reduce((function(t,e,a){return t+parseInt(e.diff)}),0)/Math.min(4,e.length-1)),s=e[0].diff,console.log("avgDiff",a),console.log("currDiff",s);var n=/^\d+ */.test(t.name)?/^\d+ */.exec(t.name)[0]:1;console.log("boxes",n);var i=/\d+ ST,/.test(t.name)?/(\d*X?\d+)+ ST,/.exec(t.name)[1]:null;if(i&&i.indexOf("X")>0){var r=i.split("X");i=r[0]*r[1]}console.log("perPackage",i);var o=null;t.freq&&(t.freq=t.freq.replace(/ /g,""),o=t.freq.split("-").reduce((function(t,e){return"1/2"===e&&(e=.5),t+parseFloat(e)}),0)),console.log("dailyDosage",o);var l=null;return o&&i&&(l=Math.floor(n*i/o)),console.log("duration",l),{duration:l,avgDiff:a,days:null!==s&&l?l-s:null,dates:e,perPackage:i,dailyDosage:o}},medicationForm:function(t){var e=/.+, (.+),.+,.+/;return e.test(t.name)?e.exec(t.name)[1]:""}},computed:{orderMedications:function(){var t=this;console.log("Order medications");var e=this.medications;return e.forEach((function(e,a){var s=t.medicationPrescriptionData(e);if(e.days=parseInt(s.days),e.duration=s.duration,e.dates=e.dates.split(","),e.dateDiff=s.dates,e.avgDiff=s.avgDiff,e.perPackage=s.perPackage,e.dailyDosage=s.dailyDosage,e.visitAlert=!1,s.avgDiff){var n=e.avgDiff/100*15,i=e.avgDiff-n,r=e.avgDiff+n;(e.duration>r||e.duration<i)&&(e.visitAlert=!0)}})),e=_.orderBy(e,["days"],["asc"]),console.log("medications",e),e}}}),E=(a("S5ZM"),Object(v.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"table table-bordered table-sm"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}}),t._v(" "),a("th",{attrs:{scope:"col"}}),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Medication")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Form")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Dosage")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Last")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("First")))]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Info")))])])]),t._v(" "),a("tbody",t._l(t.orderMedications,(function(e){return t.showMedicationRow(e)?a("tr",[a("td",{staticClass:"px-2 text-left",class:t.daysClass(e.days)},[e.days||0===e.days?a("span",{staticClass:"font-weight-bold"},[e.days>=0?[t._v("\n                        "+t._s(t.$t("in {days} days",{days:e.days}))+"\n                    ")]:[t._v("\n                        "+t._s(t.$t("{days} days ago",{days:Math.abs(e.days)}))+"\n                    ")]],2):[t._v("\n                    "+t._s(t.$t("unknown"))+"\n                ")]],2),t._v(" "),a("td",{staticClass:"type text-center",class:!e.type||e.type.length>1?"bg-danger":""},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.type&&1===e.type.length,expression:"item.type && item.type.length === 1"}]},[t._v(t._s(e.type))])]),t._v(" "),a("td",{staticClass:"mr-auto px-2",class:t.medicationClass(e)},[t._v("\n                ("+t._s(e.qty)+") "+t._s(e.name)+"\n            ")]),t._v(" "),a("td",[t._v("\n                "+t._s(t.medicationForm(e))+"\n            ")]),t._v(" "),a("td",[e.freq?[t._v("("+t._s(e.freq)+")")]:t._e()],2),t._v(" "),a("td",[t._v("\n                "+t._s(t._f("formatDate")(e.dates[0],"DD.MM.YY"))+"\n            ")]),t._v(" "),a("td",[t._v("\n                "+t._s(t._f("formatDate")(e.dates[e.dates.length-1],"DD.MM.YY"))+"\n            ")]),t._v(" "),a("td",{staticClass:"diff text-right",class:e.visitAlert?"bg-danger text-white":"text-primary"},[a("span",{attrs:{id:"tooltip-date-diffs"+e.name.hashCode()}},[t._v(t._s(e.duration?e.duration:e.avgDiff?"?_"+e.avgDiff:"???"))]),t._v(" "),a("b-tooltip",{attrs:{target:"tooltip-date-diffs"+e.name.hashCode(),triggers:"hover"}},[a("div",{staticClass:"text-left"},[t._v("\n                        "+t._s(t.$t("Interval"))+":"),t._l(e.dateDiff,(function(e,a){return[e.diff?[t._v(" ")]:t._e(),t._v(t._s(e.diff))]}))],2),t._v(" "),e.avgDiff?a("div",{staticClass:"text-left"},[t._v(t._s(t.$t("Average"))+": "+t._s(e.avgDiff))]):t._e(),t._v(" "),e.perPackage?a("div",{staticClass:"text-left"},[t._v(t._s(t.$t("Package contents"))+": "+t._s(e.perPackage))]):t._e(),t._v(" "),e.avgDiff&&e.perPackage?a("div",{staticClass:"text-left"},[t._v(t._s(t.$t("Calculated dosage"))+": "+t._s((parseInt(e.perPackage)/parseInt(e.avgDiff)).toFixed(1).replace(".",","))+" / "+t._s(t.$t("day")))]):t._e()])],1)]):t._e()})),0)])}),[],!1,null,"3f3ac014",null).exports),F={name:"Vaccinations",props:{item:{},grid:{}}},A=Object(v.a)(F,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modal-cg-impfungen",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        "+t._s(t._f("formatDate")(t.item.created_at_date,"DD.MM.YY"))+" "),t.item.qty?a("span",[t._v("("+t._s(t.item.qty)+")")]):t._e(),t._v(" "+t._s(t.item.memo)+"\n    ")]},proxy:!0}])},[t._v(" "),a("table",{staticClass:"table table-sm"},[a("tr",[a("th",[t._v("Impfung")]),t._v(" "),a("th",[t._v("EBM Ziffer")]),t._v(" "),a("th",[t._v(t._s(t.$t("Interval")))]),t._v(" "),a("th",[t._v(t._s(t.$t("First")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Last")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Refresh")))])]),t._v(" "),t._l(t.grid,(function(e,s){return a("tr",{key:e.memo},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.memo))]),t._v(" "),a("td",[t._v(t._s(e.interval))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.first_date,"DD.MM.YY"))+" "),e.first_count?[t._v("("+t._s(e.first_count)+")")]:t._e()],2),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.last_date,"DD.MM.YY"))+" "),e.last_count?[t._v("("+t._s(e.last_count)+")")]:t._e()],2),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.refresh_date,"DD.MM.YY"))+" "),e.refresh_count?[t._v("("+t._s(e.refresh_count)+")")]:t._e()],2)])}))],2)])}),[],!1,null,"0d7e123a",null).exports,B={name:"Laboratory",props:{item:{type:Object,required:!0},grid:{type:Array,required:!0}}},U=Object(v.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modal-cg-labor",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        "+t._s(t._f("formatDate")(t.item.created_at_date,"DD.MM.YY"))+" "),t.item.qty?a("span",[t._v("("+t._s(t.item.qty)+")")]):t._e(),t._v(" "+t._s(t.item.memo)+"\n    ")]},proxy:!0}])},[t._v(" "),a("table",{staticClass:"table table-sm"},[a("tr",[a("th",[t._v("EMB-Ziffer")]),t._v(" "),a("th",[t._v(t._s(t.$t("First date")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Last date")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Quantity")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Description")))])]),t._v(" "),t._l(t.grid,(function(e,s){return a("tr",{key:e.memo},[a("td",[t._v(t._s(e.memo))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.first_date,"DD.MM.YY")))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.last_date,"DD.MM.YY")))]),t._v(" "),a("td",[t._v(t._s(e.num))]),t._v(" "),a("td",[t._v(t._s(e.description))])])}))],2)])}),[],!1,null,"20b642c0",null).exports,O={name:"Chroniker",props:{item:{type:Object,required:!0},grid:{type:Array,required:!0}},data:function(){return{quarters:[]}},created:function(){for(var t=p()().subtract(9,"months"),e=0;e<=3;e++)this.quarters.push("Q"+t.format("Q / YYYY")),t.add(3,"months")}},L=Object(v.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-modal",{attrs:{id:"modal-cg-chroniker",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n        Chroniker\n    ")]},proxy:!0}])},[t._v(" "),a("table",{staticClass:"table table-sm"},[a("tr",[a("th"),t._v(" "),t._l(t.quarters,(function(e){return a("th",[t._v(t._s(e))])}))],2),t._v(" "),t._l(t.grid,(function(e,s){return a("tr",{key:e.label},[a("td",[a("strong",[t._v(t._s(e.label))])]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.q3,"DD.MM.YY")))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.q2,"DD.MM.YY")))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.q1,"DD.MM.YY")))]),t._v(" "),a("td",[t._v(t._s(t._f("formatDate")(e.q0,"DD.MM.YY")))])])}))],2)])}),[],!1,null,"7caeeede",null).exports,N={name:"Findings",props:{patient:{type:Object,required:!0},prescriptions:{type:Array,required:!0},visits:{type:Array,required:!0},findings:{type:Array,required:!0},calls:{type:Array,required:!0}},components:{Vaccinations:A,Laboratory:U,Chroniker:L},data:function(){return{grid:[],calls:[]}},methods:{loadModalContent:function(t,e){var a=this;console.log("Load modal content ["+e+"]",t),axios.get("/patient/"+this.patient.id+"/info/"+t).then((function(t){Vue.set(a.grid,e,t.data)})),"chroniker03220"!==t&&"chroniker03221"!==t||(t="chroniker"),this.$root.$emit("bv::show::modal","modal-cg-"+t)}}},z=(a("CfYP"),{components:{FrequentMedications:E,Findings:Object(v.a)(N,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row no-gutters mt-2 befunde"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"border p-1 mr-1 mb-1",class:{"bg-danger text-white":t.visits[3]&&t.visits[3]<21},on:{click:function(e){return t.loadModalContent("clinic",0)}}},[t._v("\n            Praxis "+t._s(t.visits[0])+" - "+t._s(t.visits[1])+" - "+t._s(t.visits[2])+" "),t.visits[3]?a("span",[t._v("("+t._s(t.visits[3])+" Tage)")]):t._e()]),t._v(" "),a("b-modal",{attrs:{id:"modal-cg-clinic",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                Praxis "+t._s(t.visits[0])+" - "+t._s(t.visits[1])+" - "+t._s(t.visits[2])+" "),t.visits[3]?a("span",[t._v("("+t._s(t.visits[3])+" Tage)")]):t._e()]},proxy:!0}])},[t._v(" "),a("table",t._l(t.grid[0],(function(e,s){return a("tr",{key:e.id,class:{divider:s>0&&t.isDifferentQuarter(e.created_at_date,t.grid[0][s-1].created_at_date)}},[a("td",[0===s||e.created_at_date!==t.grid[0][s-1].created_at_date?[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY")))]:t._e()],2),t._v(" "),a("td",{staticClass:"px-2"},[t._v(t._s(e.category))]),t._v(" "),a("td",[t._v(t._s(e.memo))])])})),0)])],1),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"border p-1 mr-1 mb-1",class:{"bg-danger text-white":t.prescriptions[3]&&t.prescriptions[3]>29},on:{click:function(e){return t.loadModalContent("prescription",1)}}},[t._v("\n            Rezepte "+t._s(t.prescriptions[0])+" - "+t._s(t.prescriptions[1])+" - "+t._s(t.prescriptions[2])+" "),t.prescriptions[3]?a("span",[t._v("("+t._s(t.prescriptions[3])+" Einträge)")]):t._e()]),t._v(" "),a("b-modal",{attrs:{id:"modal-cg-prescription",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                Rezepte "+t._s(t.prescriptions[0])+" - "+t._s(t.prescriptions[1])+" - "+t._s(t.prescriptions[2])+" "),t.prescriptions[3]?a("span",[t._v("("+t._s(t.prescriptions[3])+" Einträge)")]):t._e()]},proxy:!0}])},[t._v(" "),a("table",{staticClass:"table table-sm"},t._l(t.grid[1],(function(e,s){return a("tr",{key:e.id},[a("td",[0===s||e.created_at_date!==t.grid[1][s-1].created_at_date?[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY")))]:t._e()],2),t._v(" "),a("td",{staticClass:"px-2"},[t._v(t._s(e.category))]),t._v(" "),a("td",{staticClass:"wide",class:"P"===e.type?"bg-primary text-white":""},[t._v("("+t._s(e.qty)+") "+t._s(e.name))]),t._v(" "),a("td",{staticClass:"px-2"},[t._v(t._s(e.comment))])])})),0)])],1),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"border p-1 mr-1 mb-1",class:{"bg-danger text-white":t.calls[3]&&t.calls[3]>29},on:{click:function(e){return t.loadModalContent("calls",1)}}},[t._v("\n            "+t._s(t.$t("Calls"))+" "+t._s(t.calls[0])+" - "+t._s(t.calls[1])+" - "+t._s(t.calls[2])+" "),t.calls[3]?a("span",[t._v("("+t._s(t.calls[3])+" Einträge)")]):t._e()]),t._v(" "),a("b-modal",{attrs:{id:"modal-cg-calls",size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                Calls "+t._s(t.calls[0])+" - "+t._s(t.calls[1])+" - "+t._s(t.calls[2])+" "),t.calls[3]?a("span",[t._v("("+t._s(t.calls[3])+" Einträge)")]):t._e()]},proxy:!0}])})],1),t._v(" "),t._l(t.findings,(function(e,s){return a("div",{staticClass:"col-6"},[a("div",{staticClass:"border p-1 mr-1 mb-1 text-nowrap",class:[{disabled:!e.qty},e.class],on:{click:function(a){t.loadModalContent(e.memo.replace(/[ \/]/gi,"").toLowerCase().replace(/ü/g,"u"),s+2)}}},[t._v("\n            "+t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY"))+" "),e.qty?a("span",[t._v("("+t._s(e.qty)+")")]):t._e(),t._v(" "+t._s(e.memo)+"\n        ")]),t._v(" "),"Impfungen"===e.memo?a("vaccinations",{attrs:{item:e,grid:t.grid[s+2]||[]}}):"Labor"===e.memo?a("laboratory",{attrs:{item:e,grid:t.grid[s+2]||[]}}):"Chroniker 03220"===e.memo?a("chroniker",{attrs:{item:e,grid:t.grid[s+2]||[]}}):a("b-modal",{attrs:{id:"modal-cg-"+e.memo.replace(/[ \/]/gi,"").toLowerCase().replace(/ü/g,"u"),size:"xl","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("\n                "+t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY"))+" "),e.qty?a("span",[t._v("("+t._s(e.qty)+")")]):t._e(),t._v(" "+t._s(e.memo)+"\n            ")]},proxy:!0}],null,!0)},[t._v(" "),a("table",t._l(t.grid[s+2],(function(e,n){return a("tr",{key:e.id},[a("td",[0===n||e.created_at_date!==t.grid[s+2][n-1].created_at_date?[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY")))]:t._e()],2),t._v(" "),a("td",{staticClass:"px-2"},[t._v(t._s(e.category))]),t._v(" "),a("td",[t._v(t._s(e.memo))])])})),0)])],1)}))],2)}),[],!1,null,"ff6e4a36",null).exports},data:function(){return{findings:[]}},props:{patient:{type:Object,required:!0}},mounted:function(){console.log("Patient mounted")},updated:function(){console.log("Patient updated")},activated:function(){console.log("Patient activated")},created:function(){console.log("Created"),this.loadFindings()},beforeCreate:function(){console.log("Before create")},methods:{nextAppointment:function(){var t=p()().format("YYYY-MM-DD");return _.filter(this.patient.appointments,(function(e){return e.date>=t}))},lastAppointment:function(t){var e=p()().format("YYYY-MM-DD");return _.filter(this.patient.appointments,(function(t){return t.date<e})).slice(0,t)},relevatAppointments:function(t){var e=p()().add(1,"months").format("YYYY-MM-DD");return _.filter(this.patient.appointments,(function(t){return t.date<e})).slice(0,t)},isSigned:function(t){if(null===t.updated_by||!t.updated_by.length)return!1;var e=_.trim(t.description).split(" ");return _.trim(_.first(e)," ()").toUpperCase()===t.updated_by||_.trim(_.last(e)," ()").toUpperCase()===t.updated_by},loadFindings:function(){var t=this;axios.get("/patients/"+this.patient.info.id+"/findings").then((function(e){t.findings=e.data}))},loadCalls:function(){var t=this;axios.get("/patients/"+this.patient.info.id+"/calls").then((function(e){t.calls=e.data}))}},computed:{},watch:{patient:function(){this.findings=[],this.loadFindings(),this.calls=[],this.loadCalls()}}}),R=(a("TO0y"),Object(v.a)(z,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"patient"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-7"},[a("h2",[a("router-link",{attrs:{to:"/reports"}},[a("font-awesome-icon",{attrs:{icon:"search"}})],1),t._v("\n                        "+t._s(t.patient.info.suffix)+" "+t._s(t.patient.info.last_name)+", "+t._s(t.patient.info.first_name)+"\n                    ")],1),t._v(" "),a("p",{staticClass:"mb-0"},[t._v(t._s(t._f("formatBirthdate")(t.patient.info.birth_date)))])]),t._v(" "),a("div",{staticClass:"col-5"},[a("h5",[t._v(t._s(t.patient.phone.join(", ")))]),t._v(" "),a("p",{staticClass:"mb-0"},[t._v("\n                        "+t._s(t.patient.info.street)+" "+t._s(t.patient.info.street_no)+", "+t._s(t.patient.info.zip)+" "+t._s(t.patient.info.city)+"\n                        "),t.patient.insurance.length?a("span",[a("br"),t._v(t._s(t.patient.insurance[0].cnameabrkt))]):t._e()])])])])]),t._v(" "),a("div",{staticClass:"row termine"},[a("div",{staticClass:"col-7"},[a("h3",[t._v("Termine:")]),t._v(" "),t.patient.appointments.length?a("div",[a("table",{staticClass:"table table-borderless table-sm"},t._l(t.relevatAppointments(5),(function(e){return a("tr",[a("td",{staticClass:"tdate"},[t._v(t._s(t._f("formatDate")(e.date,"DD.MM.YY")))]),t._v(" "),a("td",{staticClass:"ttime"},[t._v(t._s(e.time.substring(0,5)))]),t._v(" "),a("td",{staticClass:"tinitials text-center",class:null===e.updated_by||t.isSigned(e)?"":"bg-danger text-white"},[a("span",{directives:[{name:"show",rawName:"v-show",value:null!==e.updated_by,expression:"item.updated_by !== null"}]},[t._v("\n                                "+t._s(e.updated_by)+"\n                            ")])]),t._v(" "),a("td",{staticClass:"tdesc"},[t._v(t._s(e.description))])])})),0)]):t._e(),t._v(" "),a("div",{staticClass:"mt-2"},[a("h3",[t._v("Hinweistexte:")]),t._v(" "),a("table",{staticClass:"table table-borderless table-sm"},t._l(t.patient.hints,(function(e){return a("tr",[a("td",{staticClass:"tdate"},[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY")))]),t._v(" "),a("td",{staticClass:"tinitials text-center"},[t._v("\n                            "+t._s(e.initials)+"\n                        ")]),t._v(" "),a("td",[t._v(t._s(e.memo))])])})),0)]),t._v(" "),a("div",{staticClass:"mt-2"},[a("h3",[t._v("TODO:")]),t._v(" "),a("table",{staticClass:"table table-borderless table-sm"},t._l(t.patient.todo,(function(e){return a("tr",[a("td",{staticClass:"tdate"},[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY")))]),t._v(" "),a("td",{staticClass:"tinitials text-center"},[t._v("\n                            "+t._s(e.initials)+"\n                        ")]),t._v(" "),a("td",[t._v(t._s(e.memo))])])})),0)]),t._v(" "),a("div",{staticClass:"mt-2"},[a("h3",[t._v("Risikofaktoren:")]),t._v(" "),t._l(t.patient.risk_factors,(function(e){return a("div",{staticClass:"mb-1"},[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY"))+" "),e.initials?a("span",[t._v("("+t._s(e.initials)+")")]):t._e(),t._v(" "+t._s(e.memo))])}))],2)]),t._v(" "),a("div",{staticClass:"col-5"},[a("findings",{attrs:{patient:t.patient.info,visits:t.patient.visits,prescriptions:t.patient.prescriptions,findings:t.findings,calls:t.calls}})],1)]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"mt-2 medications"},[a("h3",[t._v("Dauermedikation / Rezepte:")]),t._v(" "),t.patient.medications.length?a("frequent-medications",{attrs:{medications:t.patient.medications}}):t._e()],1),t._v(" "),a("div",{staticClass:"mt-2"},[a("h3",[t._v("Dauerdiagnosen:")]),t._v(" "),t._l(t.patient.diagnosis,(function(e){return a("div",{staticClass:"mb-1"},[t._v(t._s(t._f("formatDate")(e.created_at_date,"DD.MM.YY"))+" ("+t._s(e.qty)+") "+t._s(e.memo))])}))],2)])])])}),[],!1,null,"4c3e5c24",null).exports);p.a.locale("de");var j={name:"PreparationOverview",components:{DatePick:S.a,Patient:R},data:function(){return{patient:{},currentDate:p()(),selectedDate:this.$route.params.date||p()().format("YYYY-MM-DD"),currentPatientIndex:0,appointments:[],delta1:0,delta2:0}},methods:{loadNext:function(){this.currentPatientIndex++,this.loadPatient(this.appointments[this.currentPatientIndex].patient_id)},loadPrev:function(){this.currentPatientIndex--,this.loadPatient(this.appointments[this.currentPatientIndex].patient_id)},loadAppointments:function(){var t=this;axios.get("/appointments/calendar/".concat(this.selectedDate,"?calendar=A-PHA")).then((function(e){t.appointments=e.data,t.calculateDeltas()}))},calculateDeltas:function(){if(this.isFirst())this.delta1=0;else{var t=p()(this.appointments[this.currentPatientIndex-1].time,"HH:mm"),e=p()(this.appointments[this.currentPatientIndex].time,"HH:mm");e.diff(t);this.delta1=p.a.duration(e.diff(t)).asMinutes()}if(this.isLast())this.delta2=0;else{var a=p()(this.appointments[this.currentPatientIndex].time,"HH:mm"),s=p()(this.appointments[this.currentPatientIndex+1].time,"HH:mm");s.diff(a);this.delta2=p.a.duration(s.diff(a)).asMinutes()}},loadPatient:function(t){var e=this;this.patient={},axios.get("/patients/"+t).then((function(a){e.patient=a.data,e.$route.params.id!=t&&e.$router.push("/calendar/"+e.selectedDate+"/"+t),e.currentPatientIndex=e.getPatientIndex(t)}))},isFirst:function(){return 0===this.currentPatientIndex},isLast:function(){return this.appointments.length<2||this.currentPatientIndex+1===this.appointments.length},timeDiff:function(t,e){},getButtonClass:function(t){var e=this.currentPatientIndex+t;return this.appointments[e].diff>2?"bg-success":this.appointments[e].diff<5?"bg-orange text-dark":"bg-warning text-dark"},getPatientIndex:function(t){return _.findIndex(this.appointments,(function(e){return parseInt(e.patient_id)===parseInt(t)}))}},computed:{dateStr:function(){return p()(this.selectedDate).format("dddd, DD.MM.YYYY")}},watch:{$route:function(t,e){t.params.date!==e.params.date&&this.loadAppointments()},selectedDate:function(t){t&&this.$router.push("/calendar/"+t)},appointments:function(){var t=this.$route.params.id?this.getPatientIndex(this.$route.params.id):0;if(-1===t)return console.log("not found push"),void this.$router.push("/calendar/"+this.currentDate+"/"+this.appointments[0].patient_id);console.log("index",t),console.log("paramns",this.$route.params.id),this.appointments.length?this.loadPatient(this.appointments[t].patient_id):this.patient={}},currentPatientIndex:function(){this.calculateDeltas()}},mounted:function(){this.loadAppointments()}},H=(a("qtwk"),Object(v.a)(j,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container patient-overview"},[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-4"},[t.appointments.length?a("b-button-toolbar",{staticClass:"delta",attrs:{"key-nav":"","aria-label":"Termine"}},[a("b-button-group",[a("b-button",{class:t.delta1>9?"bg-success":"bg-orange",attrs:{disabled:""}},[t._v(t._s(t.delta1)+" min")]),t._v(" "),a("b-button",{class:t.delta2>9?"bg-success":"bg-orange",attrs:{disabled:""}},[t._v(t._s(t.delta2)+" min")])],1)],1):t._e(),t._v(" "),t.appointments.length?a("b-button-toolbar",{staticClass:"nav",attrs:{"key-nav":"","aria-label":"Termine"}},[a("b-button-group",[t.currentPatientIndex>0?a("b-button",{class:t.getButtonClass(-1),attrs:{disabled:t.isFirst()},on:{click:t.loadPrev}},[t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex-1].time)+" "),a("br"),t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex-1].duration)+"\n                    ")]):a("b-button",{attrs:{disabled:""}},[a("span",{staticClass:"invisible"},[t._v("\n                            00:00 "),a("br"),t._v("\n                            0\n                        ")])]),t._v(" "),a("b-button",{class:t.getButtonClass(0),attrs:{disabled:""}},[t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex].time)+" "),a("br"),t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex].duration)+"\n                    ")]),t._v(" "),t.currentPatientIndex<t.appointments.length-1?a("b-button",{class:t.getButtonClass(1),attrs:{disabled:t.isLast()},on:{click:t.loadNext}},[t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex+1].time)+" "),a("br"),t._v("\n                        "+t._s(t.appointments[t.currentPatientIndex+1].duration)+"\n                    ")]):a("b-button",{attrs:{disabled:""}},[a("span",{staticClass:"invisible"},[t._v("\n                            00:00 "),a("br"),t._v("\n                            0\n                        ")])])],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"col-8"},[a("div",{staticClass:"d-flex justify-content-end"},[a("div",{staticClass:"date-picker"},[a("date-pick",{attrs:{displayFormat:"DD.MM.YY",weekdays:["Mo","Di","Mi","Do","Fr","Sa","So"],inputAttributes:{class:"form-control"}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1)])])]),t._v(" "),t.notEmptyObject(t.patient)?a("patient",{attrs:{patient:t.patient}}):t.appointments.length?a("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):a("h5",[t._v(t._s(t.$t("There are no appointments on {date}",{date:t.$options.filters.formatDate(t.selectedDate)})))])],1)}),[],!1,null,null,null).exports);p.a.locale("de");var W={name:"AppointmentOverview",components:{DatePick:S.a},data:function(){return{isBusy:!0,appointments:[],selectedDate:this.$route.params.date||p()().format("YYYY-MM-DD"),selectedCalendar:null,calendars:[{value:"A-PHA",text:"A-PHA"}],fields:[{key:"time",label:this.$t("Time"),sortable:!0},{key:"duration",label:this.$t("Duration"),class:"text-right",sortable:!0},{key:"description",label:this.$t("Notice")},{key:"status",label:this.$t("S.")},{key:"name",label:this.$t("Name")},{key:"updated_by",label:this.$t("User-ID"),class:"text-center",sortable:!0},{key:"dmp",label:this.$t("DMP"),class:"text-center",sortable:!0},{key:"labor",label:this.$t("Labor"),class:"text-center",sortable:!0},{key:"time_diff",label:this.$t("AWait"),class:"text-right",sortable:!0,formatter:function(t){return p.a.duration(t).humanize()}},{key:"wait_time",label:this.$t("PWait"),class:"text-right",sortable:!0},{key:"visit_duration",label:this.$t("PDuration"),class:"text-right",sortable:!0},{key:"visits",label:this.$t("Visits"),class:"text-right",sortable:!0}]}},methods:{loadCalendars:function(){var t=this;return axios.get("/appointments/calendar-list").then((function(e){t.calendars=e.data}))},loadAppointments:function(){var t=this;axios.get("/appointments/calendar/".concat(this.selectedDate,"?visits=1&calendar=").concat(encodeURIComponent(this.selectedCalendar))).then((function(e){t.appointments=e.data,t.isBusy=!1}))},formatAge:function(t){return p()().diff(p()(String(t)),"years")},minuteDiff:function(t,e){if(t&&e)return p()(String(e)).diff(p()(String(t)),"minutes")},dayDiff:function(t){var e=p()(String(this.selectedDate)).diff(p()(String(t))),a=p.a.duration(e),s="";return a.days()&&(s+=a.days()+" Tage "),s+a.hours()+"h"},timeAdd:function(t,e){return p()(t,"HH:mm").add(p.a.duration(e)).format("HH:mm")}},computed:{durationSum:function(){var t=this.appointments.reduce((function(t,e){return t+e.duration}),0);return p.a.utc().startOf("day").add({minutes:t}).format("HH:mm")},averageAppointmentDuration:function(){return this.appointments.length?(this.appointments.reduce((function(t,e){return t+e.duration}),0)/this.appointments.length).toFixed(2).replace(".",","):0}},created:function(){var t=this;this.loadCalendars().then((function(){t.selectedCalendar=t.calendars[0],t.loadAppointments()}))},watch:{$route:function(t,e){t.query.hasOwnProperty("calendar")&&(t.params.date===e.params.date&&t.query.calendar===e.query.calendar||this.loadAppointments())},selectedDate:function(t){t&&this.$router.push("/calendar-overview/".concat(t,"?calendar=").concat(encodeURIComponent(this.selectedCalendar)))},selectedCalendar:function(t){t&&this.$router.push("/calendar-overview/".concat(this.selectedDate,"?calendar=").concat(encodeURIComponent(t)))}}},Q=Object(v.a)(W,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appointment-overview"},[a("div",{staticClass:"d-flex mb-4"},[a("div",{staticClass:"pr-4 align-self-center"},[a("div",[t._v("\n                "+t._s(t.$t("Sum Duration"))+": "+t._s(t.durationSum)+"\n            ")]),t._v(" "),a("div",[t._v("\n                "+t._s(t.$t("Start"))+": "+t._s(t.appointments.length?t.appointments[0].time:"")+" + "+t._s(t.durationSum)+" = "+t._s(t.timeAdd(t.appointments.length?t.appointments[0].time:"00:00",t.durationSum))+"\n            ")])]),t._v(" "),a("div",{staticClass:"mr-auto align-self-center"},[a("div",[t._v("\n                "+t._s(t.$t("Entries"))+": "+t._s(t.appointments.length)+"\n            ")]),t._v(" "),a("div",[t._v("\n                "+t._s(t.$t("Average"))+": "+t._s(t.averageAppointmentDuration)+" min\n            ")])]),t._v(" "),a("div",{staticClass:"mx-2",staticStyle:{"max-width":"400px"}},[a("b-form-select",{attrs:{options:t.calendars},model:{value:t.selectedCalendar,callback:function(e){t.selectedCalendar=e},expression:"selectedCalendar"}})],1),t._v(" "),a("div",{staticClass:"date-picker"},[a("date-pick",{attrs:{displayFormat:"DD.MM.YY",weekdays:["Mo","Di","Mi","Do","Fr","Sa","So"],inputAttributes:{class:"form-control"}},model:{value:t.selectedDate,callback:function(e){t.selectedDate=e},expression:"selectedDate"}})],1)]),t._v(" "),a("b-table",{attrs:{items:t.appointments,fields:t.fields,busy:t.isBusy,small:""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v(t._s(t.$t("Loading...")))])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:"/patient/"+e.item.patient_id,target:"_blank"}},[t._v(t._s(e.item.last_name)+", "+t._s(e.item.first_name))]),t._v(" ("+t._s(t.formatAge(e.item.birth_date))+")\n        ")]}},{key:"cell(started_at)",fn:function(e){return[t._v("\n            "+t._s(t._f("formatDate")(e.value,"HH:mm"))+"\n        ")]}},{key:"cell(finished_at)",fn:function(e){return[t._v("\n            "+t._s(t._f("formatDate")(e.item.finished_at,"HH:mm"))+"\n        ")]}},{key:"cell(visit_duration)",fn:function(e){return[t._v("\n            "+t._s(t.minuteDiff(e.item.started_at,e.item.finished_at))+"\n        ")]}}])})],1)}),[],!1,null,"69eb7354",null).exports;p.a.locale("de");var G={name:"Call",components:{Patient:R},data:function(){return{message:"Waiting for a call ...",patient:{},calls:[],numCallsDisplayed:5,stats:{},statsIsLoaded:!1}},sockets:{connect:function(){console.log("Socket connected")},call:function(t){var e=this;if("inbound"===t.type&&t.data.caller&&"3530"===t.data.called?(this.calls=this.calls.filter((function(e){return e.phone!==t.data.caller})),this.calls.push({phone:t.data.caller,status:"ring",search:this.search(t.data.caller),patients:null,time:p.a.unix(t.data.time).format("HH:mm"),extension:"",duration:0,timeout:null,type:t.type})):"outbound"===t.type&&this.calls.push({phone:t.data.called,status:"ring",search:this.search(t.data.called),patients:null,time:p.a.unix(t.data.time).format("HH:mm"),extension:t.data.extension,duration:0,timeout:null,type:t.type}),"connected"===t.type||"disconnected"===t.type){var a=this.calls.find((function(e){return e.phone===t.data.caller}));a&&(a.status=t.type,"connected"===t.type?(a.extension="6"+t.data.extension,a.timeout=setInterval((function(){a.duration++}),1e3),a.search.then((function(t){t.length&&e.loadPatient(t[0].id)}))):"disconnected"===t.type&&(clearInterval(a.timeout),a.duration=t.data.duration))}}},methods:{loadPatient:function(t){var e=this;this.message="Loading ...",axios.get("/patients/"+t).then((function(a){e.patient=a.data,e.$route.params.id!=t&&e.$router.push("/call/"+t)}))},loadStats:function(){var t=this;this.statsIsLoaded=!1,axios.get("/calls/stats").then((function(e){t.stats=e.data,t.statsIsLoaded=!0}))},search:function(t){var e=this;return axios.get("/contact/patients",{params:{phone:t}}).then((function(a){if(a.data.length){var s=t;e.calls.find((function(t){return t.phone===s})).patients=a.data,e.notEmptyObject(e.patient)&&e.isCallConnected||e.loadPatient(a.data[0].id)}return e.calls.length>e.numCallsDisplayed&&(e.calls=e.calls.slice(-e.numCallsDisplayed)),a.data})).catch((function(t){console.log("search error",t),console.log("search error response",t.response)}))}},computed:{isCallConnected:function(){return this.calls.find((function(t){return"connected"===t.status}))},callsServedPercent:function(){return Math.round(100*this.stats.served/this.stats.inbound)},callsStyle:function(){return this.callsServedPercent<75?"text-danger":this.callsServedPercent<90?"text-orange":this.callsServedPercent>=90?"text-success":"text-secondary"}},watch:{calls:function(){}},mounted:function(){var t=this;axios.get("/calls").then((function(e){e.data.length&&_.uniqBy(e.data,"caller").forEach((function(e){t.calls.unshift({phone:"inbound"===e.type?e.caller:e.called,status:"disconnected",search:t.search(e.caller),patients:null,time:p()(e.called_at).format("HH:mm"),extension:"",duration:e.extension,timeout:null,type:e.type})}))})),this.loadStats()}},K=(a("qtmB"),Object(v.a)(G,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"call-monitor"},[t.calls.length?a("b-button-toolbar",{staticClass:"mb-4",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[t._l(t.calls,(function(e){return a("div",{key:e.phone,staticClass:"mr-2 mb-2",class:e.type},[a("div",{staticClass:"call-info"},[a("div",{staticClass:"d-flex justify-content-between"},[a("span",[t._v(t._s(e.time))]),t._v(" "),e.extension?a("span",[t._v(t._s(e.extension)+" "),a("span",[t._v("("+t._s(e.duration)+"s)")])]):t._e()])]),t._v(" "),a("b-button-group",[null!==e.patients?t._l(e.patients,(function(s){return a("b-button",{key:s.id,class:"ring"===e.status?"bg-primary":"connected"===e.status?"bg-success":"bg-secondary",attrs:{disabled:t.patient.info&&s.id===t.patient.info.id},on:{click:function(e){return t.loadPatient(s.id)}}},[t._v("\n                        "+t._s(s.first_name)),a("br"),t._v("\n                        "+t._s(s.last_name)+"\n                    ")])})):a("b-button",{class:"ring"===e.status?"bg-primary":"connected"===e.status?"bg-success":"bg-secondary",attrs:{disabled:""}},[t._v("\n                    "+t._s(e.phone)+"\n                ")])],2)],1)})),t._v(" "),a("b-popover",{attrs:{target:"popover-call-stats",triggers:"hover",placement:"bottomleft"},on:{show:t.loadStats}},[t.statsIsLoaded?a("div",{staticClass:"stats-popover"},[a("div",[t._v(t._s(t.$t("Inbound calls"))+": "+t._s(t.stats.inbound))]),t._v(" "),a("div",[t._v(t._s(t.$t("Served calls"))+":  "+t._s(t.stats.served)+" ("+t._s(t.callsServedPercent)+"%)")]),t._v(" "),a("div",[t._v(t._s(t.$t("Duration"))+":  "+t._s(new Date(1e3*parseInt(t.stats.duration)).toUTCString().match(/(\d\d:\d\d:\d\d)/)[0]))]),t._v(" "),a("div",[t._v(t._s(t.$t("Total number of calls"))+":  "+t._s(t.stats.total))])]):a("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])])]),t._v(" "),a("div",{staticClass:"info",class:t.callsStyle,attrs:{id:"popover-call-stats"}},[a("font-awesome-icon",{attrs:{icon:"info-circle",size:"2x"}})],1)],2):t._e(),t._v(" "),t.notEmptyObject(t.patient)?a("patient",{attrs:{patient:t.patient}}):t.calls.length?a("div",{staticClass:"spinner-grow",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[t._v("Loading...")])]):a("h5",[t._v(t._s(t.message))])],1)}),[],!1,null,null,null).exports),V={name:"PatientWrapper",components:{Patient:R},data:function(){return{patient:{}}},mounted:function(){this.loadPatient(this.$route.params.id)},methods:{loadPatient:function(t){var e=this;this.patient={},axios.get("/patients/"+t).then((function(t){e.patient=t.data}))}},watch:{},computed:{}},X=Object(v.a)(V,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container patient-overview"},[this.notEmptyObject(this.patient)?e("patient",{attrs:{patient:this.patient}}):this._e()],1)}),[],!1,null,null,null).exports,Z={name:"PatientAutoOpener",components:{Patient:R},data:function(){return{patient:{},auto:!1}},mounted:function(){console.log("mounted"),console.log(this.$route.params),this.$route.params.id&&this.loadPatient(this.$route.params.id)},methods:{loadPatient:function(t){var e=this;this.patient={},axios.get("/patients/"+t).then((function(t){e.patient=t.data}))}},sockets:{connect:function(){console.log("Socket connected")},open:function(t){console.log("data",t),t.data.workstation_id==this.$config.IP?this.loadPatient(t.data.patient_id):console.log("Workstation ID does not match: ".concat(this.$config.IP," <> ").concat(t.data.workstation_id))}},watch:{},computed:{}},J=Object(v.a)(Z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container patient-overview"},[this.notEmptyObject(this.patient)?e("patient",{attrs:{patient:this.patient}}):e("div",[this._v("\n        "+this._s(this.$t("Waiting for connection"))+" ...\n    ")])],1)}),[],!1,null,null,null).exports,tt={name:"GeriatricAssessment",data:function(){return{isBusy:!0,items:[],fields:[{key:"name",sortable:!0,label:"Lastname, Firstname"},{key:"birth_date",label:"Birthday",sortable:!0,formatter:function(t){return p()(t).format("DD.MM.YYYY")}},{key:"date1",label:"EBM 03360",sortable:!0,formatter:function(t){return p()(t).format("DD.MM.YY")}},{key:"num1",label:"C",sortable:!0},{key:"date2",label:"EBM 03362",sortable:!0,formatter:function(t){return p()(t).format("DD.MM.YY")}},{key:"num2",label:"C",sortable:!0},{key:"date3",label:"Doko",sortable:!0,formatter:function(t){return p()(t).format("DD.MM.YY")}},{key:"num3",label:"C",sortable:!0}]}},methods:{loadData:function(){var t=this;axios.get("/report/geriatric-assessment").then((function(e){t.items=e.data,t.isBusy=!1}))}},mounted:function(){this.loadData()}},et=Object(v.a)(tt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,busy:t.isBusy},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:"/patient/"+e.item.id}},[t._v(t._s(e.item.name))])]}}])})],1)])])}),[],!1,null,"0bde28b4",null).exports,at={name:"DMPOverview",data:function(){return{isBusy:!0,items:[],fields:[{key:"name",sortable:!0,label:"Lastname, Firstname"},{key:"birth_date",label:"Birthday",sortable:!0,formatter:function(t){return p()(t).format("DD.MM.YYYY")}},{key:"date",label:"DMP Diabetes 2",sortable:!0,formatter:function(t){return t?p()(t).format("DD.MM.YY"):""}},{key:"num",label:"C",sortable:!0},{key:"date_lb",label:"Labor",sortable:!0,formatter:function(t){return t?p()(t).format("DD.MM.YY"):""}},{key:"num_lb",label:"C",sortable:!0}],groups:[{value:"FDIAB2",text:"DMP Diabetes 2"},{value:"FKHK",text:"DMP KHK"},{value:"FCOPD",text:"DMP COPD"},{value:"FASTH",text:"DMP Asthma"}],selectedGroup:"FDIAB2"}},methods:{loadData:function(){var t=this;this.isBusy=!0,axios.get("/report/dmp-overview",{params:{category:this.selectedGroup}}).then((function(e){t.items=e.data,t.isBusy=!1}))}},watch:{selectedGroup:function(t){var e=this.groups.filter((function(e){return e.value===t}));this.fields[2].label=e[0].text,this.loadData(),console.log("Changed",t)}},created:function(){this.loadData()}},st=Object(v.a)(at,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6 offset-md-6"},[a("form",{staticClass:"form-inline flex-row-reverse"},[a("b-form-select",{attrs:{options:t.groups},model:{value:t.selectedGroup,callback:function(e){t.selectedGroup=e},expression:"selectedGroup"}})],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,busy:t.isBusy,responsive:"sm"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v(t._s(t.$t("Loading"))+"...")])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:"/patient/"+e.item.id}},[t._v(t._s(e.item.name))])]}}])})],1)])])}),[],!1,null,"61080040",null).exports,nt={name:"QuarterPerformanceComparison",data:function(){return{isBusy:!1,fields:[{label:"EBM",key:"name",sortable:!0},{label:"Beschreibung",key:"description",sortable:!0},{label:"Diff",key:"diff",sortable:!0,formatter:"formatNumber",class:"text-right"},{label:"TotalPDiff",key:"diffp",sortable:!0,formatter:"formatNumber",class:"text-right"},{label:"Anzahl",key:"num",sortable:!0,formatter:"formatNumber",class:"text-right"},{label:"Anzahl",key:"q2",sortable:!0,formatter:"formatNumber",class:"text-right"},{label:"Pointvalue",key:"points",sortable:!0,class:"text-right"},{label:"Sum",key:"sum",sortable:!0,formatter:"formatNumber",class:"text-right"}],items:[],quarters:[],q1:null,q2:null}},methods:{loadData:function(){var t=this;axios.get("/report/performance-comparison",{params:{q1:this.q1,q2:this.q2}}).then((function(e){t.items=e.data,t.isBusy=!1}))},formatNumber:function(t){return Number(t).toLocaleString("de-DE")}},created:function(){for(var t=p()(),e=0;e<=30;e++)this.quarters.push({label:"Q"+t.format("Q / YYYY"),value:t.format("YYYY-Q")}),t.subtract(3,"months")},watch:{q1:function(t){this.fields[4].label="Anzahl Q".concat(t.substring(5),"/").concat(t.substring(2,4)),this.q2&&(this.isBusy=!0,this.loadData())},q2:function(t){this.fields[5].label="Anzahl Q".concat(t.substring(5),"/").concat(t.substring(2,4)),this.q1&&(this.isBusy=!0,this.loadData())}}},it=Object(v.a)(nt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row mb-4"},[a("div",{staticClass:"col-md-6 offset-md-6"},[a("form",{staticClass:"form-inline flex-row-reverse"},[a("b-form-select",{attrs:{id:"selectQ1Select",options:t.quarters,"value-field":"value","text-field":"label",disabled:t.isBusy},model:{value:t.q2,callback:function(e){t.q2=e},expression:"q2"}}),t._v(" "),a("label",{staticClass:"mr-2 d-none d-sm-block",attrs:{for:"selectQ1Select"}},[t._v("   / ")]),t._v(" "),a("b-form-select",{attrs:{id:"selectQ2Select",options:t.quarters,"value-field":"value","text-field":"label",disabled:t.isBusy},model:{value:t.q1,callback:function(e){t.q1=e},expression:"q1"}}),t._v(" "),a("label",{staticClass:"mr-2 d-none d-sm-block",attrs:{for:"selectQ2Select"}},[t._v(t._s(t.$t("Select Quarters")))])],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{small:"",fields:t.fields,items:t.items,busy:t.isBusy,responsive:"sm"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v("Loading...")])],1)]},proxy:!0}])})],1)])])}),[],!1,null,"71afcd18",null).exports,rt={name:"AnsweringMachine",components:{DatePick:S.a},data:function(){return{selectedDate:this.$route.params.date||p()().format("YYYY-MM-DD"),items:[],isBusy:!0,fields:[{key:"type",label:this.$t("Type"),sortable:!0},{key:"date",label:this.$t("Date"),sortable:!0,formatter:function(t){return t?p()(t).format("DD.MM.YY"):""}},{key:"time",label:this.$t("Time"),sortable:!0},{key:"name",label:this.$t("Lastname, Firstname")},{key:"birth_date",label:this.$t("Birthday")},{key:"path",label:this.$t("Message")},{key:"action",label:"",tdClass:"align-middle"}]}},methods:{onDeleteMessage:function(t){var e=this;console.log(t),this.$bvModal.msgBoxConfirm(this.$t("Are you sure?")).then((function(a){a&&axios.post("/answering-machine/store",t).then((function(t){console.log("Reload messages"),e.loadData()}))})).catch((function(t){}))},loadData:function(){var t=this;this.isBusy=!0,axios.get("/answering-machine/download-messages").then((function(e){t.items=e.data,t.isBusy=!1}))}},created:function(){this.loadData()},watch:{$route:function(t,e){t.params.date!==e.params.date&&this.loadData()},selectedDate:function(t){t&&this.$router.push("/answering-machine/"+t)}}},ot=Object(v.a)(rt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row mb-2"},[a("div",{staticClass:"col-6"},[a("h5",[t._v(t._s(t.$t("Answering Machine")))])]),t._v(" "),a("div",{staticClass:"col-6 text-right"},[a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return t.loadData()}}},[a("font-awesome-icon",{attrs:{icon:"sync"}})],1)])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,busy:t.isBusy,responsive:"sm"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v(t._s(t.$t("Loading...")))])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[e.item.patients.length?t._l(e.item.patients,(function(e){return a("div",[a("router-link",{attrs:{to:"/patient/"+e.id,target:"_blank"}},[t._v(t._s(e.last_name)+", "+t._s(e.first_name))])],1)})):e.item.Number.length?a("div",[t._v("\n                        "+t._s(e.item.Number)+"\n                    ")]):a("div",[t._v("\n                        "+t._s(t.$t("Unknown"))+"\n                    ")])]}},{key:"cell(type)",fn:function(e){return[t._v("\n                    AB\n                ")]}},{key:"cell(birth_date)",fn:function(e){return t._l(e.item.patients,(function(s){return e.item.patients.length?a("div",[t._v("\n                        "+t._s(t._f("formatBirthdate")(s.birth_date,"DD.MM.YY"))+" \n                    ")]):t._e()}))}},{key:"cell(last)",fn:function(e){return t._l(e.item.patients,(function(e){return a("div",[t._v("\n                        "+t._s(t._f("formatDate")(e.last,"DD.MM.YY"))+" \n                    ")])}))}},{key:"cell(todo)",fn:function(e){return t._l(e.item.patients,(function(e){return a("div",[t._v("\n                        "+t._s(t._f("formatDate")(e.todo,"DD.MM.YY"))+" "),e.todo_num?[t._v("("+t._s(e.todo_num)+")")]:t._e()],2)}))}},{key:"cell(hints)",fn:function(e){return t._l(e.item.patients,(function(e){return a("div",[t._v("\n                        "+t._s(t._f("formatDate")(e.hints,"DD.MM.YY"))+" "),e.hints_num?[t._v("("+t._s(e.hints_num)+")")]:t._e()],2)}))}},{key:"cell(path)",fn:function(t){return[a("audio",{attrs:{controls:"",preload:"auto",src:t.item.path}})]}},{key:"cell(action)",fn:function(e){return[a("a",{attrs:{href:"#"},on:{click:function(a){return t.onDeleteMessage(e.item)}}},[a("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)]}}])})],1)])])}),[],!1,null,"3a7f6edc",null).exports,lt={name:"ChronikerOverview",data:function(){var t=this;return{isBusy:!0,perPage:30,currentPage:1,items:[],fields:[{key:"name",sortable:!0,label:this.$t("Lastname, Firstname")},{key:"birth_date",label:this.$t("Birthday"),sortable:!0,formatter:function(e){return p()(e).format("DD.MM.YY")+" ("+t.formatAge(e)+")"}},{key:"q1",label:"",sortable:!0},{key:"q2",label:"",sortable:!0},{key:"q3",label:"",sortable:!0},{key:"q4",label:"",sortable:!0}]}},methods:{loadData:function(){var t=this;this.isBusy=!0,axios.get("/report/chroniker-overview").then((function(e){t.items=e.data,t.isBusy=!1}))},formatAge:function(t){return p()().diff(p()(String(t)),"years")}},computed:{rows:function(){return this.items.length}},watch:{},created:function(){var t=[0,1,2,3].map((function(t){return p()().subtract(t,"Q").format("[Q]Q/YY")}));this.fields[2].label=t[0],this.fields[3].label=t[1],this.fields[4].label=t[2],this.fields[5].label=t[3],this.loadData()}},dt={name:"Todo",data:function(){var t=this;return{isBusy:!0,perPage:100,currentPage:1,items:[],fields:[{key:"date",label:this.$t("Date"),formatter:function(t){return p()(t).format("DD.MM.YY")}},{key:"name",label:this.$t("Lastname, Firstname")},{key:"birth_date",label:this.$t("Birthday"),formatter:function(e){return p()(e).format("DD.MM.YY")+" ("+t.formatAge(e)+")"}},{key:"until",label:this.$t("Till when")},{key:"employee_from",label:this.$t("From")},{key:"employee_to",label:this.$t("To")},{key:"memo",label:this.$t("Text")},{key:"user_credentials",label:this.$t("User ID")}]}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.isBusy=!0;var e="/report/todo";this.$route.params.type&&(e+="/"+this.$route.params.type),axios.get(e).then((function(e){t.items=e.data,t.isBusy=!1}))},formatAge:function(t){return p()().diff(p()(String(t)),"years")}},computed:{rows:function(){return this.items.length}},watch:{$route:function(t,e){this.loadData()}}},ut={mode:"history",routes:[{path:"/",component:f},{path:"/patient/auto/:id?",component:J},{path:"/patient/:id",component:X},{path:"/reports",component:q},{path:"/time",component:C},{path:"/time-overview",component:w},{path:"/user-management",component:T},{path:"/workplan",component:M},{path:"/call/:id?",component:K},{path:"/calendar/:date?/:id?",component:H},{path:"/calendar-overview/:date?",component:Q},{path:"/geriatric-assessment",component:et},{path:"/dmp-overview",component:st},{path:"/chroniker-overview",component:Object(v.a)(lt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,busy:t.isBusy,"per-page":t.perPage,"current-page":t.currentPage,responsive:"sm",id:"chroniker-overview-table"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v(t._s(t.$t("Loading"))+"...")])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:"/patient/"+e.item.patient_id,target:"_blank"}},[t._v(t._s(e.item.name))])]}},{key:"cell(q1)",fn:function(e){return[t._v("\n                    "+t._s(t._f("formatDate")(e.item.q1_1,"DD.MM."))+" / "+t._s(t._f("formatDate")(e.item.q1_2,"DD.MM."))+"\n                ")]}}])}),t._v(" "),a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"chroniker-overview-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])}),[],!1,null,"84b00aca",null).exports},{path:"/performance-comparison",component:it},{path:"/answering-machine/:date?",component:ot},{path:"/todo/:type?",component:Object(v.a)(dt,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("b-table",{attrs:{striped:"",hover:"",items:t.items,fields:t.fields,busy:t.isBusy,"per-page":t.perPage,"current-page":t.currentPage,responsive:"sm"},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v(t._s(t.$t("Loading...")))])],1)]},proxy:!0},{key:"cell(name)",fn:function(e){return[a("router-link",{attrs:{to:"/patient/"+e.item.patient_id}},[t._v(t._s(e.item.name))])]}},{key:"cell(until)",fn:function(e){return[t._v("\n                    "+t._s(/#.*#([\d\.]*)\s.*/.test(e.item.memo)?/#.*#([\d\.]*)\s.*/.exec(e.item.memo)[1]:"")+"\n                ")]}},{key:"cell(employee_from)",fn:function(e){return[t._v("\n                    "+t._s(/#..2..\s.*$/.test(e.item.memo)?/#(..)2..\s.*$/.exec(e.item.memo)[1]:"")+"\n                ")]}},{key:"cell(employee_to)",fn:function(e){return[t._v("\n                    "+t._s(/#..2..\s.*$/.test(e.item.memo)?/#..2(..)\s.*$/.exec(e.item.memo)[1]:"")+"\n                ")]}},{key:"cell(memo)",fn:function(e){return[t._v("\n                    "+t._s(e.value.replace(/#..2\S+/,"").replace(/#[\d.]+/,""))+"\n                ")]}}])}),t._v(" "),a("b-pagination",{attrs:{"total-rows":t.rows,"per-page":t.perPage,"aria-controls":"chroniker-overview-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])}),[],!1,null,null,null).exports}]},ct=a("7O5W"),mt=a("wHSu"),vt=a("rT2p"),ft=a("UTJ8"),ht=a.n(ft);a("9Wh1"),ct.c.add(mt.k,mt.c,mt.b,mt.d,mt.a,mt.g,mt.f,mt.j,mt.i,mt.e,mt.h),p.a.locale("de");var pt=JSON.parse(document.getElementById("config").innerHTML),_t=JSON.parse(document.getElementById("settings").innerHTML);console.log("config app",pt),pt.hasOwnProperty("SOCKETIO_SOCKET")&&n.a.use(new ht.a({debug:!0,connection:pt.SOCKETIO_SOCKET})),window.Vue=n.a,n.a.use(u.default),n.a.use(i.a),n.a.use(l.a),n.a.use(d.a),n.a.use(c.FormHelpers);var bt=new l.a({locale:window.Locale,messages:o.a});n.a.prototype.$userId=document.querySelector("meta[name='user-id']").getAttribute("content"),n.a.prototype.$userName=document.querySelector("meta[name='user-name']").getAttribute("content"),n.a.prototype.$userRole=document.querySelector("meta[name='user-role']").getAttribute("content"),n.a.prototype.$config=pt,n.a.prototype.$settings=_t,n.a.http.interceptors.push((function(t,e){var a=document.querySelector("#token").getAttribute("content");a&&t.headers.set("X-CSRF-TOKEN",a),e()})),axios.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&location.reload(),Promise.reject(t)})),n.a.filter("formatBirthdate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";if(t)return p()(String(t)).format(e)+" ("+p()().diff(t,"years")+")"})),n.a.filter("formatDate",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD.MM.YYYY";if(t){var a=p()(String(t)),s=p()(),n=Math.abs(s.diff(a,"days"));return n>=2?a.format(e):a.calendar().split(" ")[0]}})),n.a.mixin({methods:{notEmptyObject:function(t){return Object.keys(t).length},isDifferentQuarter:function(t,e){return p()(t).quarter()!==p()(e).quarter()}}}),String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(var e=0;e<this.length;e++){t=(t<<5)-t+this.charCodeAt(e),t&=t}return t},n.a.component("font-awesome-icon",vt.a),n.a.config.productionTip=!1;var gt=new i.a(ut);new n.a({el:"#app",router:gt,data:{isSidebarActive:!1,showCollapse:!1,showCollapse2:!1,loading:!1},methods:{sidebarToggle:function(){this.isSidebarActive=!this.isSidebarActive}},watch:{$route:function(t){this.isSidebarActive=!1}},i18n:bt,mounted:function(){}})},bco7:function(t,e,a){var s=a("pnAS");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},jXqh:function(t,e,a){var s=a("PD9G");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},pnAS:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,".disabled[data-v-4c3e5c24] {\n  color: #cccccc;\n}\n.disabled.bg-orange[data-v-4c3e5c24] {\n  color: #212529 !important;\n}\n.tdate[data-v-4c3e5c24] {\n  width: 4.2rem;\n}\n.ttime[data-v-4c3e5c24] {\n  width: 2.8rem;\n}\n.tinitials[data-v-4c3e5c24] {\n  width: 2rem;\n}\n.termine .table-sm td.tdesc[data-v-4c3e5c24] {\n  padding-left: 0.3rem;\n}\n.termine .table-sm td[data-v-4c3e5c24] {\n  padding-right: 0.1rem;\n}\n.befunde[data-v-4c3e5c24] {\n  margin-right: -0.25rem;\n  font-size: 0.75rem;\n}",""])},pyCd:function(t,e){},qtmB:function(t,e,a){"use strict";var s=a("HCYJ");a.n(s).a},qtwk:function(t,e,a){"use strict";var s=a("xe//");a.n(s).a},rdh0:function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.flex-even[data-v-3257f5b8] {\n    flex: 1;\n}\n",""])},tF0C:function(t,e,a){var s=a("E59B");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)},vZxv:function(t,e){t.exports={de:{auth:{failed:"These credentials do not match our records.",throttle:"Too many login attempts. Please try again in :seconds seconds."},pagination:{previous:"&laquo; Previous",next:"Next &raquo;"},passwords:{password:"Passwords must be at least six characters and match the confirmation.",reset:"Your password has been reset!",sent:"We have e-mailed your password reset link!",token:"This password reset token is invalid.",user:"We can't find a user with that e-mail address."},validation:{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute may only contain letters.",alpha_dash:"The :attribute may only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute may only contain letters and numbers.",array:"The :attribute must be an array.",before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{numeric:"The :attribute must be between :min and :max.",file:"The :attribute must be between :min and :max kilobytes.",string:"The :attribute must be between :min and :max characters.",array:"The :attribute must have between :min and :max items."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{numeric:"The :attribute must be greater than :value.",file:"The :attribute must be greater than :value kilobytes.",string:"The :attribute must be greater than :value characters.",array:"The :attribute must have more than :value items."},gte:{numeric:"The :attribute must be greater than or equal :value.",file:"The :attribute must be greater than or equal :value kilobytes.",string:"The :attribute must be greater than or equal :value characters.",array:"The :attribute must have :value items or more."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{numeric:"The :attribute must be less than :value.",file:"The :attribute must be less than :value kilobytes.",string:"The :attribute must be less than :value characters.",array:"The :attribute must have less than :value items."},lte:{numeric:"The :attribute must be less than or equal :value.",file:"The :attribute must be less than or equal :value kilobytes.",string:"The :attribute must be less than or equal :value characters.",array:"The :attribute must not have more than :value items."},max:{numeric:"The :attribute may not be greater than :max.",file:"The :attribute may not be greater than :max kilobytes.",string:"The :attribute may not be greater than :max characters.",array:"The :attribute may not have more than :max items."},mimes:"The :attribute must be a file of type: :values.",mimetypes:"The :attribute must be a file of type: :values.",min:{numeric:"The :attribute must be at least :min.",file:"The :attribute must be at least :min kilobytes.",string:"The :attribute must be at least :min characters.",array:"The :attribute must have at least :min items."},not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",present:"The :attribute field must be present.",regex:"The :attribute format is invalid.",required:"The :attribute field is required.",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{numeric:"The :attribute must be :size.",file:"The :attribute must be :size kilobytes.",string:"The :attribute must be :size characters.",array:"The :attribute must contain :size items."},starts_with:"The :attribute must start with one of the following: :values",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID.",custom:{"attribute-name":{"rule-name":"custom-message"}},attributes:[]},Accountmanagement:"Benutzerverwaltung","Add User":"Neuer Benutzer","Answering Machine":"Rezepttelephone","Are you sure?":"Bist du sicher?",AWait:"AWait",Average:"Durchschnitt",Birthday:"Geburtstag","Booking Date":"Buchungsdatum",Break:"Pause","Calculated dosage":"Errechnete Dossierung",Calls:"Calls",Cancel:"Abbrechen",City:"Ort",Comment:"Kommentar","Current month entries":"Aktuellen Monat anzeigen",day:"day",Date:"Datum",Description:"Beschreibung",Deviation:"Abw.",Diff:"Diff",Dosage:"Dosis",Duration:"Dauer","Edit User":"Benutzer bearbeiten","Edit time track entries":"Zeitbuchung bearbeiten","Edit time log records for":"Zeitbuchungen bearbeiten von",Email:"Email",End:"Ende",Entries:"Entries","every 10 years":"alle 10 Jahre","Extra Hours":"Unbewertete Zeit","Find patient":"Patientensuche","First Name":"Vorname","First date":"First date",First:"Erste",Form:"Form",From:"Von","Geriatric Assessment":"Geri-Assessment","Home Visit":"Hausbesuche","Home visitation":"Hausbesuch","Inbound calls":"Eingehene Anrufe",Info:"Info",Interval:"Intervall",Labor:"Labor","Last Name":"Nachname","Last date":"Last date",Last:"Letzte","Last Entries":"Aktuelle Buchungen","Lastname, Firstname":"Nachname, Vorname","Last Visit":"Letzter Besuch","Loading...":"Loading...",Logout:"Abmelden",Medication:"Medikament",Message:"Nachricht",Name:"Name",Next:"Nächste",Note:"Hinweis",Notice:"Notice","Overview for {date}":"Übersicht für den {date}","Overview for:":"Übersicht für:","once if >= 60":"einmalig wenn >= 60","Package contents":"Verpackungsgröße",Password:"Passwort","Patient Reports":"Patientenzusammenfassung","Performance Comparison":"Side by Side","Preparation Overview":"Arbeits-Vorbereitung",Present:"Anwesend",Prev:"Vorh",Quantity:"Menge",Quarter:"Quartal","Regular Time":"Anwesenheit",Refresh:"Auffrischung",Role:"Rolle","Scheduled Hours":"Gewertete Zeit","Select Quarters":"Select Quarters","Selected User:":"Ausgewählter Benutzer:",Start:"Start",Submit:"Absenden","Sum Duration":"Sum Duration",Save:"Speichern","Served calls":"Angenommene Anrufe",Sum:"Summe",Target:"Soll","There are no appointments on {date}":"Es gibt keine Termine am {date}","Time tracking":"Arbeitszeiten",Time:"Zeit","Time Tracking Overview":"Zeitkonten-Ansicht",To:"Bis",Todo:"Todo","Total number of calls":"Gesamte Anrufe","Turn on":"Anschalten","User management":"Accountmanagement",Users:"Benutzer",unknown:"unbekannt",Visits:"Visits","Welcome / Home":"Startseite",Welcome:"Willkommen",Workplans:"Arbeitsplan","Workplan Hours":"Soll Zeit","in {days} days":"in {days} Tagen","{days} days ago":"vor {days} Tagen","{num} Days":"{num} Tage"},en:{auth:{failed:"These credentials do not match our records.",throttle:"Too many login attempts. Please try again in :seconds seconds."},pagination:{previous:"&laquo; Previous",next:"Next &raquo;"},passwords:{password:"Passwords must be at least six characters and match the confirmation.",reset:"Your password has been reset!",sent:"We have e-mailed your password reset link!",token:"This password reset token is invalid.",user:"We can't find a user with that e-mail address."},validation:{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute may only contain letters.",alpha_dash:"The :attribute may only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute may only contain letters and numbers.",array:"The :attribute must be an array.",before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{numeric:"The :attribute must be between :min and :max.",file:"The :attribute must be between :min and :max kilobytes.",string:"The :attribute must be between :min and :max characters.",array:"The :attribute must have between :min and :max items."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{numeric:"The :attribute must be greater than :value.",file:"The :attribute must be greater than :value kilobytes.",string:"The :attribute must be greater than :value characters.",array:"The :attribute must have more than :value items."},gte:{numeric:"The :attribute must be greater than or equal :value.",file:"The :attribute must be greater than or equal :value kilobytes.",string:"The :attribute must be greater than or equal :value characters.",array:"The :attribute must have :value items or more."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{numeric:"The :attribute must be less than :value.",file:"The :attribute must be less than :value kilobytes.",string:"The :attribute must be less than :value characters.",array:"The :attribute must have less than :value items."},lte:{numeric:"The :attribute must be less than or equal :value.",file:"The :attribute must be less than or equal :value kilobytes.",string:"The :attribute must be less than or equal :value characters.",array:"The :attribute must not have more than :value items."},max:{numeric:"The :attribute may not be greater than :max.",file:"The :attribute may not be greater than :max kilobytes.",string:"The :attribute may not be greater than :max characters.",array:"The :attribute may not have more than :max items."},mimes:"The :attribute must be a file of type: :values.",mimetypes:"The :attribute must be a file of type: :values.",min:{numeric:"The :attribute must be at least :min.",file:"The :attribute must be at least :min kilobytes.",string:"The :attribute must be at least :min characters.",array:"The :attribute must have at least :min items."},not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",present:"The :attribute field must be present.",regex:"The :attribute format is invalid.",required:"The :attribute field is required.",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{numeric:"The :attribute must be :size.",file:"The :attribute must be :size kilobytes.",string:"The :attribute must be :size characters.",array:"The :attribute must contain :size items."},starts_with:"The :attribute must start with one of the following: :values",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID.",custom:{"attribute-name":{"rule-name":"custom-message"}},attributes:[]}}}},"xe//":function(t,e,a){var s=a("59Rt");"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(s,n);s.locals&&(t.exports=s.locals)}},[[0,1,2]]]);